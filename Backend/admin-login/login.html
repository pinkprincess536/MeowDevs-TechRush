<!-- <form id="login-form">
  <select id="ngo-select" required>
    <option value="">Select your NGO</option>
  </select>

  <input type="password" id="password" placeholder="Enter password" required />
  <button type="submit">Login</button>
</form>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
  const supabase = window.supabase.createClient(
    "https://sqyofqsgggixjkklperv.supabase.co",
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNxeW9mcXNnZ2dpeGpra2xwZXJ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4MTA1NTksImV4cCI6MjA2OTM4NjU1OX0.eRK5h6tH9R_VP0blv8xsH8i54sXZCnOJlSvyeQ3jHmA"
  );

  // Step 1: Load NGO list into dropdown
  async function loadNGOs() {
    const { data, error } = await supabase.from("ngos").select("*");
    if (error) {
      alert("Error loading NGOs");
      return;
    }
    const select = document.getElementById("ngo-select");
    data.forEach((ngo) => {
      const option = document.createElement("option");
      option.value = ngo.email;
      option.text = ngo.name;
      select.appendChild(option);
    });
  }

  loadNGOs();

  // Step 2: Handle Login
  document.getElementById("login-form").addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = document.getElementById("ngo-select").value;
    const password = document.getElementById("password").value;

    const { error, data } = await supabase.auth.signInWithPassword({ email, password });

    if (error) {
      alert("❌ " + error.message);
    } else {
      alert("✅ Login successful!");
      // redirect to dashboard or wherever
      window.location.href = "dashboard.html";
    }
  });
</script> -->


