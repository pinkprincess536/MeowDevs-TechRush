<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NGO Login - JOY</title>
  <style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    }

    html, body {
        font-family: "Quicksand", sans-serif;
        font-weight: 800;
        height: 100%;
        width: 100%;
        background: linear-gradient(135deg, #e0f7fa, #e1bee7);
        display: flex;
        flex-direction: column;
        opacity: 0;
        transform: translateY(30px);
        animation: fadein 1s ease-in-out forwards;
    }

    @keyframes fadein {
        0%{

        }
    100% {
        opacity:1;
    transform: translateY(0);
    }
    }

    header{
        height:40px;
        width: 100%;
        background-color: #ffffff;
        box-shadow: 0 2px 10px #333;
        margin-bottom: 30px;
    }

    .head{
        display: flex; 
        justify-content: space-between; 
        align-items: center; 
        padding: 15px 30px; 
        background-color:#F5F5F5;
        box-shadow: 0 4px 7px rgba(0, 0, 0, 0.2); 
    
    }

    h1 {
        font-family: "Quicksand", sans-serif;
        font-weight: 800;
    }

    .joy {
        background: linear-gradient(90deg, hsla(197, 100%, 63%, 1) 0%, hsla(294, 100%, 55%, 1) 100%);
        -webkit-background-clip: text;
        font-size: 40px;
        -webkit-text-fill-color: transparent;
    }

    main {
        
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 40px 20px;
    }

    .login {
        background-color: #ffffff;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 8px 24px rgba(31, 31, 31, 0.2);
        width: 400px;
        transition: all 10ms ease-out;
    }


    .login:hover{
    transform: scale(1.01);
    }

    #text {
        font-size: 30px;
        font-weight: 600;
        text-align: center;
        color: #4a148c;
        margin-bottom: 10px;
    }

    hr {
        border: none;
        height: 2px;
        background-color: #ce93d8;
    
        width: 100%;
    }

    .pair p {
        font-weight: 400;
        color: #333;
        margin-bottom: 4px;
    }

    .buttons {
        width: 100%;
        height:40px;
        padding-left: 5px;
        border: 1px solid #3d3b3d;
        border-radius: 6px;
        font-size: 15px;
    
        font-family: "Quicksand", sans-serif;
        transition: all 10ms ease;
    }


    .buttons:hover{
        transform: scale(1.03);
        border: 2px solid #E81CFF; 
    }

    #submit {
        background:  linear-gradient(69deg,#40C9FF , #E81CFF);
        color: white;
        border: transparent;
        font-weight: bold;
        cursor: pointer;
        margin-top: 10px;
        transition: all 0.3s ease;
    }


    #submit:hover {
        border-color:#4a148c;
        background: linear-gradient(180deg,#40C9FF , #E81CFF);
        
    }

    .error-msg {
        color: red;
        text-align: center;
        margin-top: 10px;
        }
</style>
 
</head>
<body>
<header>
  <div class="head">
    <div class="header-left">
      <h1 class="joy">ùí•ùëúùìé</h1>
    </div>
  
  </header>


 <main>
        <div class="login">
            <form id="loginForm">
                <div id="text">NGO LOGIN</div>
                <hr>
                <br><br>
                <div class="pair">
                    <p>Enter E-mail</p>
                    <input type="email" id="emailId" required placeholder="E-mail" class="buttons">
                </div>
                <br>
                <div class="pair">
                    <p>Enter password</p>
                    <input type="password" id="password" class="buttons" placeholder="Password" required>
                </div>
                <br>
                <button class="buttons" id="submit" type="submit">Login</button>
                <div id="error" class="error-msg"></div>
            </form>

        </div>
    </main>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script>
    const supabaseUrl = 'https://owffebbhgkktxfcxcfdq.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93ZmZlYmJoZ2trdHhmY3hjZmRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MjgwMTcsImV4cCI6MjA2OTMwNDAxN30.7Q20V6cP_iFM7ojsD1xoKWqgj1VUe1syITi9gjxQpbw';
    const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

document.getElementById('loginForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const email = document.getElementById('emailId').value.trim();
      const password = document.getElementById('password').value;
      const errorDiv = document.getElementById('error');
      errorDiv.innerText = '';

      if (!email || !password) {
        errorDiv.innerText = 'Please enter both fields.';
        return;
      }

      const { data, error } = await supabase
        .from('RegisterNGO')
        .select('*')
        .eq('email', email)
        .eq('Password', password)
        .single();

      if (error || !data) {
        errorDiv.innerText = 'Invalid email or password.';
      } else {
        localStorage.setItem('ngo_email', email);
        window.location.href = 'ngo_dashboardfinal.html';
      }
    });
  </script>
</body>
</html>