<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="adminpage.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="container" >
          
              
                <h2>Register New NGO</h2>
                <form class="form-content" id="ngoForm">
                    <label for="ngoName">NGO Name:</label>
                    <input type="text" id="ngoName" name="ngoName" required />
                    <br>
                    <label for="username">Set Username:</label>
                    <input type="text" id="username" name="username" required  placeholder="e.g., name@example.com"/>
                     <br>
                    <label for="password">Set Password:</label>
                    <input type="password" id="password" name="password" required />
                     <br>
                    <label for="confirmPassword">Confirm Password:</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" required />
                     <br>
                   
                    <label for="description">Address:</label>
                    <textarea id="description" name="description" rows="4" required></textarea>
                     <br>
                    <label for="registrationNumber">PAN Card Number:</label>
                    <input type="text" id="registrationNumber" name="registrationNumber" required />
                     <br>

                     <label for=" Licensenum">License Number:</label>
                    <input type="text" id="Licensenum" name="Licensenum" required />
                     <br>


                    <label for="contactNumber">Contact Number:</label>
                    <input type="tel" id="contactNumber" name="contactNumber" required />
                     <br>
                    <button class="fcb" type="submit">Register NGO</button>
                </form>
            </div>
        </div>
        





      
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
const supabaseUrl = 'https://owffebbhgkktxfcxcfdq.supabase.co';
const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93ZmZlYmJoZ2trdHhmY3hjZmRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MjgwMTcsImV4cCI6MjA2OTMwNDAxN30.7Q20V6cP_iFM7ojsD1xoKWqgj1VUe1syITi9gjxQpbw';
const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);


document.getElementById("ngoForm").addEventListener("submit", async function (e) {
  e.preventDefault();
  
    const password = document.getElementById("password").value;
    const confirmPassword = document.getElementById("confirmPassword").value;
   if (password !== confirmPassword) {
     
      alert("Passwords do not match!");
      return ;
    }
  const {data, error}=  await supabase
  .from("RegisterNGO")
  .insert({
    ngo_name: document.getElementById("ngoName").value,
    email: document.getElementById("username").value,
    Password: document.getElementById("password").value,
    Licensenum: document.getElementById("Licensenum").value,
    Address: document.getElementById("description").value,
    pancardnum: document.getElementById("registrationNumber").value,
    phone_number: document.getElementById("contactNumber").value
  });

  

    if (error) {
      console.error(error);
      alert("Error registering NGO. Please try again.");
    } else {
      alert("NGO registered successfully!");
      document.getElementById("ngoForm").reset();
    }
  });

  


</script>





</body>
</html>



